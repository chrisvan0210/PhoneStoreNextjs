{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useRef, useState } from 'react';\nimport Router from 'next/router';\n\nfunction SignUp(props) {\n  const usernameRef = useRef(null);\n  const emailRef = useRef(null);\n  const passRef = useRef(null);\n  const {\n    0: message,\n    1: setMessage\n  } = useState(null);\n\n  const handleSignUp = async e => {\n    e.preventDefault();\n    let name = usernameRef.current.value,\n        email = emailRef.current.value,\n        password = passRef.current.value;\n    console.log(name, email, password);\n\n    if (name && email && password) {\n      await fetch('http://localhost:3000/api/signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: name,\n          email: email,\n          password: password\n        })\n      }).then(async res => {\n        const resp = await res.json();\n\n        if (res.status === 200) {\n          Router.replace('/');\n          setMessage(resp);\n        }\n      }).catch(err => {\n        console.log(\"erro\", err);\n        setMessage(err);\n      });\n      usernameRef.current.value = null;\n      emailRef.current.value = null;\n      passRef.current.value = null;\n    } else {\n      setMessage(\"Please fill all information\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsxs(\"form\", {\n      action: \"\",\n      children: [/*#__PURE__*/_jsxs(\"label\", {\n        htmlFor: \"username\",\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          children: \"Username:\"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          type: \"text\",\n          placeholder: \"username\",\n          ref: usernameRef\n        })]\n      }), /*#__PURE__*/_jsxs(\"label\", {\n        htmlFor: \"email\",\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          children: \"Email:\"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          type: \"text\",\n          placeholder: \"emial\",\n          ref: emailRef\n        })]\n      }), /*#__PURE__*/_jsxs(\"label\", {\n        htmlFor: \"password\",\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          children: \"Password:\"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          type: \"password\",\n          placeholder: \"password\",\n          ref: passRef\n        })]\n      }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"p\", {}), /*#__PURE__*/_jsx(\"button\", {\n        type: \"submit\",\n        onClick: handleSignUp,\n        children: \"SignUp\"\n      })]\n    }), JSON.stringify(message)]\n  });\n}\n\nexport default SignUp;","map":null,"metadata":{},"sourceType":"module"}