{"ast":null,"code":"const sqlite3 = require('sqlite3');\n\nconst sqlite = require('sqlite');\n\nexport default async function getPeopleById(req, res) {\n  const db = await sqlite.open({\n    filename: './database.sqlite',\n    driver: sqlite3.Database\n  });\n  await db.migrate({\n    force: 'last'\n  });\n\n  if (req.method === 'PUT') {\n    //     const stmt = await db.prepare(\"UPDATE People SET name= ?, email= ? WHERE id= ?\");\n    //    await stmt.run(req.body.name, req.body.email, req.query.id)\n    //    stmt.finalize();\n    await db.run(`UPDATE People SET name=\"${req.body.name}\",email=\"${req.body.email}\" WHERE id=${req.query.id}`);\n  }\n\n  if (req.method === 'POST') {\n    await db.run(`INSERT INTO People (name , email) VALUES(\"${req.body.name}\",\"${req.body.email}\")`);\n  }\n\n  if (req.method === 'DELETE') {\n    await db.run(`DELETE FROM  People WHERE id=${req.query.id}`);\n  }\n\n  const people = await db.all('SELECT * FROM People where id = ?', req.query.id);\n  res.json(people);\n}","map":null,"metadata":{},"sourceType":"module"}