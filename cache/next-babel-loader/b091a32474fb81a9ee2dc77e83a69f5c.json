{"ast":null,"code":"import Router from \"next/router\"; //This function to check WHEN Client request get data to see if they are already login or not \n\nexport async function myGetApiRqAuth(url, ctx) {\n  var _ctx$req;\n\n  const cookie = (_ctx$req = ctx.req) === null || _ctx$req === void 0 ? void 0 : _ctx$req.headers.cookie;\n  const resp = await fetch(url, {\n    headers: {\n      cookie: cookie\n    }\n  });\n\n  if (resp.status === 401 && !ctx.req) {\n    // run if on Client side\n    Router.replace('/login');\n    return {};\n  }\n\n  if (resp.status === 401 && ctx.req) {\n    var _ctx$res;\n\n    // run if on Server side\n    (_ctx$res = ctx.res) === null || _ctx$res === void 0 ? void 0 : _ctx$res.writeHead(302, {\n      Location: 'http://localhost:3000/login'\n    });\n    ctx.res.end();\n    return {};\n  }\n\n  return {\n    res: await resp.json()\n  };\n}","map":null,"metadata":{},"sourceType":"module"}